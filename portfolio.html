<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta 
    name="description" 
    content="Graphic Designer Portfolio showcasing stunning visuals and unique designs. Explore the portfolio, learn about the designer, and get in touch." 
  />
  <script src="script.js"></script>
  <title>Home Page</title>
  <!-- Bootstrap CSS -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
  />

  <!-- AOS CSS -->
<link 
rel="stylesheet" 
href="https://unpkg.com/aos@2.3.1/dist/aos.css" 
/>


  <!-- Bootstrap Icons -->
  <link 
    rel="stylesheet" 
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" 
  />


  <style>
    :root {
      --nav-font: "Poppins",  sans-serif;
      --default-font: "Roboto",  system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
      --heading-font: "Raleway",  sans-serif;
      --primary-color: #6c63ff;
      --dark-color: #343a40;
      --light-color: #c9c9c9;
      --section-bg-color: #ffffff;
      --accent-color: #6c63ff;
    }
    html {
      scroll-behavior: smooth;
    }
 
 /* push modals & backdrop above everything (including preloader) */
 .modal-backdrop.show { z-index: 3000 !important; }
    .modal.show          { z-index: 3001 !important; }

    /* lower the preloader just in case */
    #preloader { z-index: 1000; }
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background-color: var(--section-bg-color);
      line-height: 1.6;
      margin: 0;
      position: relative;
      height: 100vh; /* Keeping 100vh as requested */
      padding: 0;
    }
    .container-fluid {
      max-width: 100%;
      width: 100%;
      padding: 0;
    }
   


    /* Hero Section */
    .hero {
      position: relative;
      width: 100%;
      height: 100vh;
      background: none; /* JS will override */
      display: flex;
      justify-content: left;
      align-items: left;
      text-align: left;
      color: rgb(235, 235, 235);
    }

    .hero--with-bg {
    background-position: 0% 90% !important;
  }


    /* Dark Overlay */
    .hero .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.2);
    }

    /* Hero Content */
    .hero-content {
      position: relative;
      margin-left: 200px;
      margin-top: 100px;;
      z-index: 1;
    }

    .hero-content h1 {
      font-size: 3.5rem;
      font-weight: bold;
    }

    .hero-content p {
      font-size: 1.5rem;
      margin-top: 10px;
      border-bottom: 2px solid #6c63ff;
      display: inline-block;
      padding-bottom: 5px;
    }

    /* Social Media Icons */
    .social-icons {
      margin-top: 20px;
    }

    .social-icons a {
      color: rgb(235, 235, 235);
      font-size: 24px;
      margin: 0 10px;
      transition: color 0.3s ease;
    }

    .social-icons a:hover {
      color: #6c63ff;
    }

    /* Fallback message style */
    .no-social {
      font-size: 0.9rem;
      color: #aaa;
      margin-top: 10px;
    }

    /* Sections */
    section {
      padding: 60px 0;
    }
    #about, #contact {
      background-color: var(--section-bg-color);
    }
    #portfolio {
      background-color: var(--section-bg-color);
    }
    /* About Section */
    #about h2 {
      font-weight: 700;
      margin-bottom: 1.5rem;
    }
    #about p {
      line-height: 1.7;
    }
    #about .btn.btn-outline-primary {
      border-color: var(--accent-color);
      color: var(--accent-color);
      transition: background-color 0.3s, color 0.3s;
    }
    #about .btn.btn-outline-primary:hover {
      background-color: var(--accent-color);
      color: #fff;
    }
    /* Portfolio Section */
    #portfolio h2 {
      font-weight: 700;
    }
    .portfolio-item {
      overflow: hidden;
      position: relative;
      cursor: pointer;
      background-color: #fff;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .portfolio-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
    }
    .portfolio-item img {
      width: 100%;
      height: auto;
      transition: transform 0.3s ease;
      border-top-left-radius: 6px;
      border-top-right-radius: 6px;
    }
    .portfolio-item:hover img {
      transform: scale(1.08);
    }
    .overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40px;
      background: rgba(0,0,0,0.7);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
      border-bottom-left-radius: 6px;
      border-bottom-right-radius: 6px;
    }
    .portfolio-item:hover .overlay {
      opacity: 1;
    }
    /* Modals */
    .modal-content {
      border-radius: 8px;
    }
    .modal-header {
      border-bottom: 0;
    }
    .modal-header .btn-close {
      box-shadow: none;
    }
    .modal-body img {
      border-radius: 6px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    }
    /* Contact Section */
    #contact h2 {
      font-weight: 700;
    }
    #contact label.form-label {
      font-weight: 600;
    }
    #contact .form-control:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 0.2rem rgba(108,99,255,0.25);
    }
    #contact button.btn-primary {
      background-color: var(--accent-color);
      border-color: var(--accent-color);
      transition: background-color 0.3s, box-shadow 0.3s;
    }
    #contact button.btn-primary:hover {
      background-color: #584ce3;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    /* Main Content Adjustment */
    main {
      margin-left: 0px;
      display: block;
    }

    

    @media (min-width: 800px) {
  main {
    margin-left: 100px;
  }
}


    /* Footer */
    footer {
      background-color: var(--dark-color);
      color: #fff;
    }
    footer p {
      margin: 0;
    }



     /* Service Card */
     .service-card {
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      padding: 30px;
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      --service-color: #e93f33; /* Default, overridden per card */
    }

    /* Hover Effect */
    .service-card:hover {
      transform: translateY(-5px);
       box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    @media (max-width: 768px) {
  .service-card {
    text-align: center;
  }
   /* Hero Content */
   .hero-content {
      position: relative;
      margin-left: 20px;
      margin-top: 100px;;
      z-index: 1;
    }

}


    /* Icon Background Shape */
    .icon-shape {
      background-color: #f2f2f2;
      width: 60px;
      height: 60px;
      margin: 0 auto;
      border-radius: 40% 60% 60% 40% / 50% 40% 60% 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s;
    }

    /* Icon Styling */
    .icon-shape i {
      font-size: 24px;
      color: var(--service-color);
      transition: color 0.3s;
    }

    /* Hover Effect (Invert Colors) */
    .service-card:hover .icon-shape {
      background-color: var(--service-color);
    }
    .service-card:hover .icon-shape i {
      color: #fff;
    }




  body {
      font-family: Arial, sans-serif;
      transition: all 0.5s ease;  
      scroll-behavior: smooth; /* Smooth scrolling */
    }

     /* Default icon style */
     .social-icon {
      color: #000; /* Default color */
      font-size: 1rem; /* Default size */
      display: inline-block; /* Ensure transform works correctly */
      transition: color 0.3s ease, transform 0.3s ease; /* Smooth transition for color and size */
    }
  
    /* Hover effect */
    .social-icon:hover {
      color: #6c63ff; /* Hover color */
      transform: scale(1.1); /* Slightly increase size on hover */
    }

    /* Navigation */
    .header-icons {
      position: fixed;
      top: 50%;
      left: 10px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 1000;
    }

    /* Nav Links */
    .header-icons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      text-decoration: none;
      background: #f1f1f1;
      border-radius: 50%;
      transition: all 0.3s ease;
      color: #555;
      font-size: 24px;
      position: relative;
    }

    @media (max-width: 768px) {
  .header-icons {
    display: none;
  }
}

@media (max-width: 768px) {
  main {
    
    padding: 0 15px; /* Optional: add horizontal padding */
    
  }
  .hero--with-bg {
    background-position: 70% 80% !important;
  }

}

@media (max-width: 768px) {
  .hero-content h1 {
    font-size: 2rem; /* Reduce hero headline size */
  }
  .hero-content p.lead {
    font-size: 1rem;
  }
  section {
    padding: 30px 0; /* Reduce vertical padding in sections */
  }
}


    /* Active & Hover Effects */
    .header-icons a:hover,
    .header-icons a.active {
      background: #6c63ff;
      color: #fff;
      font-weight: bold;
      transform: scale(1.1);
    }

    /* Tooltip Text (Label) */
    .header-icons a::after {
      content: attr(data-title);
      position: absolute;
      left: 60px;
      font-weight: bold; /* Ensure it's always bold */
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 5px 10px;
      border-radius: 5px;
      font-size: 14px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
    }

    /* Show label ONLY on hover (not on active) */
.header-icons a:hover::after {
  opacity: 1;
  visibility: visible;
}


    /* Sections */
    section {
      margin-top: 0%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      
    }
  </style>
  <style>
     /* ─────────────── PRELOADER OVERLAY ─────────────── */
     #preloader {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: #ffffff;
      z-index: 100;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    /* ── 1) FLOATING CIRCLES / DOTS ── */
    .loader-animation {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0; left: 0;
      overflow: hidden;
    }

    .circle {
      position: absolute;
      bottom: -50px;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: rgba(108, 99, 255, 0.5);
      animation: floatUp 4s infinite ease-in-out;
    }
    .circle1 { left: 10%;  animation-delay: 0s;   animation-duration: 4.5s; }
    .circle2 { left: 30%;  animation-delay: 0.8s; animation-duration: 5s;   }
    .circle3 { left: 50%;  animation-delay: 0.4s; animation-duration: 4s;   }
    .circle4 { left: 70%;  animation-delay: 1.2s; animation-duration: 5.5s; }
    .circle5 { left: 85%;  animation-delay: 0.2s; animation-duration: 4.2s; }

    @keyframes floatUp {
      0%   { transform: translateY(0);   opacity: 0.4; }
      50%  { opacity: 0.15; }
      100% { transform: translateY(-120vh); opacity: 0; }
    }

    /* ── 2) SPINNER ── */
    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(108, 99, 255, 0.3);
      border-top: 4px solid #6c63ff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
      z-index: 10;
    }
    @keyframes spin {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* ── 3) FACT / TEXT (no fade‐out) ── */
    #preloader-fact {
      position: relative;
      font-size: 1.25rem;
      color: #333;
      margin-bottom: 1rem;
      max-width: 80%;
      text-align: center;
      z-index: 10;
      /* We’ll fade in once on load, then just swap text every 4s */
      opacity: 0;
      animation: textFadeIn 0.8s ease-out forwards;
    }
    @keyframes textFadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    /* ── 4) PROGRESS BAR ── */
    .progress-container {
      width: 300px;
      height: 12px;
      background: #eee;
      border-radius: 6px;
      overflow: hidden;
      z-index: 10;
    }
    #preloader-bar {
      width: 0%;
      height: 100%;
      background: #6c63ff;
      transition: width 0.3s ease;
    }

    /* ── OPTIONAL FADE-IN FOR CONTENT ── */
    #content-wrapper.fade-in {
      animation: fadeIn 0.6s ease-out forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to   { opacity: 1; }
    }




    .button-wrapper {
  display: flex;
  justify-content: center;
  margin: 20px 0;
}

.styled-button {
  background: linear-gradient(135deg, #00e0ff, #0077ff);
  color: white;
  padding: 12px 28px;
  font-size: 1rem;
  font-weight: 600;
  border: none;
  border-radius: 50px;
  text-decoration: none;
  box-shadow: 0 5px 15px rgba(0, 224, 255, 0.4);
  transition: all 0.3s ease;
}

.styled-button:hover {
  background: linear-gradient(135deg, #0077ff, #00e0ff);
  box-shadow: 0 8px 20px rgba(0, 224, 255, 0.6);
  transform: translateY(-2px);
}
  </style>
</head>
<body>

  <!-- ─── ENHANCED PRELOADER BEGIN ─── -->
  <div id="preloader">
    <!-- Background floating circles -->
    <div class="loader-animation">
      <div class="circle circle1"></div>
      <div class="circle circle2"></div>
      <div class="circle circle3"></div>
      <div class="circle circle4"></div>
      <div class="circle circle5"></div>
    </div>

    <!-- Spinner in front -->
    <div class="spinner"></div>

    <!-- Fact / Text (initially hidden until CSS fade‐in) -->
    <div id="preloader-fact"></div>

    <!-- Progress bar container -->
    <div class="progress-container">
      <div id="preloader-bar"></div>
    </div>
  </div>
  <!-- ─── ENHANCED PRELOADER END ─── -->



  <div id="content-wrapper" style="display: none;">

<!-- Header Icons (place this where you want the nav to appear) -->
<nav id="headerNav" class="header-icons">
  <!-- JS will inject each <a> here -->
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sections = document.querySelectorAll("section");

    // 1) Build URL for “nav” endpoint and fetch
    const navUrl = `${window.GAS_BASE_URL}?type=nav`;

    fetch(navUrl)
      .then((res) => res.json())
      .then((navArray) => {
        if (navArray.error) {
          console.error("Error loading nav:", navArray.error);
          return;
        }

        const navEl = document.getElementById("headerNav");
        navEl.innerHTML = "";

        // 2) Inject each <a class="nav-link">…</a>
        navArray.forEach((item) => {
          const link = document.createElement("a");
          link.href = item.href;            // e.g. "#sectionId"
          link.className = "nav-link";
          link.setAttribute("data-title", item.title);

          // If you want “Home” (#hero) active by default:
          if (item.href === "#hero") {
            link.classList.add("active");
          }

          const icon = document.createElement("i");
          icon.className = item.icon;       // e.g. "bi-house"
          link.appendChild(icon);

          navEl.appendChild(link);
        });

        // 3) Now that all .nav-link items exist, query them:
        const navLinks = document.querySelectorAll(".nav-link");

        // 4) Attach smooth‐scroll click handlers
        navLinks.forEach((link) => {
          link.addEventListener("click", function (event) {
            event.preventDefault();
            const targetId = link.getAttribute("href").substring(1);
            const targetSection = document.getElementById(targetId);
            if (!targetSection) return;

            window.scrollTo({
              top: targetSection.offsetTop, // you can adjust the offset if needed
              behavior: "smooth",
            });
          });
        });

        // 5) Create the function that highlights the correct link on scroll
        function setActiveLink() {
          let currentSectionId = "";

          sections.forEach((section) => {
            // Adjust this “-100” if you need less or more top-offset
            const sectionTop = section.offsetTop - 100;
            const sectionBottom = sectionTop + section.clientHeight;

            if (
              window.scrollY >= sectionTop &&
              window.scrollY < sectionBottom
            ) {
              currentSectionId = section.getAttribute("id");
            }
          });

          navLinks.forEach((link) => {
            link.classList.remove("active");
            if (link.getAttribute("href").substring(1) === currentSectionId) {
              link.classList.add("active");
            }
          });
        }

        // 6) Make sure to call setActiveLink once in case you're already scrolled
        setActiveLink();

        // 7) Attach the scroll listener now that navLinks is defined
        window.addEventListener("scroll", setActiveLink);
      })
      .catch((err) => {
        console.error("Fetch error (nav):", err);
      });
  });
</script>




  <div class="container-fluid">
      <!-- Hero Section (no hard‐coded text/icons) -->
  <section class="hero" id="hero">
    <div class="overlay"></div>
    <div class="hero-content">
      <h1 id="hero-name"></h1>
      <p>
        <span id="hero-prefix"></span>
        <span id="typed"></span>
      </p>
      <div class="social-icons" id="social-container">
        <!-- JS will inject <a><i>…</i></a> here -->
      </div>

      <div class="button-wrapper">
  <a href="movie.html" class="styled-button">🎬 Watch Full Movie</a>
</div>

      
      <div class="no-social" id="no-social-msg" style="display: none;">
        No social links to display.
      </div>
    </div>
  </section>
  <script>
   

    fetch(window.GAS_BASE_URL + '?type=hero')
      .then((res) => res.json())
      .then((data) => {
        console.log('Hero data:', data);

        const heroEl = document.querySelector('.hero');

if (data.HeroImage && data.HeroImage.toString().trim()) {
  // 1) Add the CSS class that has all your preferred styles:
  heroEl.classList.add('hero--with-bg');

  // 2) Then override the background-image portion of that class:
  //    (since the class itself used url("") as a placeholder)
  heroEl.style.backgroundImage = `
  linear-gradient(to right, rgba(0,0,0,0.9), rgba(0,0,0,0)),
  url('${data.HeroImage}')
`;

}


        // 2) Fill in <h1> with Name
        document.getElementById('hero-name').textContent = data.Name || '';

        // 3) Fill in the prefix (e.g. "I'm")
        document.getElementById('hero-prefix').textContent = data.Prefix || '';

        // 4) Initialize Typed.js with data.TypedArray
        const typedArray = Array.isArray(data.TypedArray) ? data.TypedArray : [];
        if (typedArray.length) {
          new Typed('#typed', {
            strings: typedArray,
            typeSpeed: 60,
            backSpeed: 30,
            loop: true,
          });
        }

        // 5) Render social‐icon links from SocialNames/URLs/Icons
        const names = Array.isArray(data.SocialNames) ? data.SocialNames : [];
        const urls  = Array.isArray(data.SocialURLs)  ? data.SocialURLs  : [];
        const icons = Array.isArray(data.SocialIcons) ? data.SocialIcons : [];

        const container   = document.getElementById('social-container');
        const noSocialMsg = document.getElementById('no-social-msg');
        container.innerHTML = ''; // clear any stale markup

        // If any of the three arrays is empty, show fallback
        if (names.length === 0 || urls.length === 0 || icons.length === 0) {
          noSocialMsg.style.display = 'block';
          return;
        }
        noSocialMsg.style.display = 'none';

        // Otherwise, loop through them in parallel
        for (let i = 0; i < names.length; i++) {
          const href = urls[i]  || '#';
          const cls  = icons[i] || '';
          const a = document.createElement('a');
          a.href = href;
          a.target = '_blank';
          a.rel = 'noopener';
          a.innerHTML = `<i class="${cls}"></i>`;
          container.appendChild(a);
        }
      })
      .catch((err) => {
        console.error('Error fetching hero data:', err);
        const noSocialMsg = document.getElementById('no-social-msg');
        noSocialMsg.textContent = 'Unable to load social links.';
        noSocialMsg.style.display = 'block';
      });
  </script>
    <main>







      
<!-- About Section -->
<section id="about" class="py-5">
  <div class="container">
    <!-- Section Title + Underline -->
    <div class="text-center mb-4">
      <h2 class="fw-bold">About</h2>
      <div
        class="mx-auto mt-2"
        style="width:60px; height:3px; background-color:#6c63ff;"
      ></div>
    </div>

  

    <!-- Intro Paragraph (starts hidden) -->
    <p
      id="about-intro"
      class="text-center mx-auto"
      style="max-width: 700px; display: none;"
    >
      <!-- JS will inject Intro text here -->
    </p>

    <!-- Two-Column Layout (starts hidden) -->
    <div
      id="about-content"
      class="row align-items-center mt-5"
      style="display: none;"
    >
      <!-- Left Column: Image -->
      <div class="col-md-4 text-center mb-4 mb-md-0">
        <img
          id="about-image"
          src=""
          alt="Profile Photo"
          class="img-fluid rounded shadow"
        />
      </div>

      <!-- Right Column: Details -->
      <div class="col-md-8">
        <h3 id="about-subtitle" class="mb-3">
          <!-- JS will inject Subtitle here -->
        </h3>
        <p id="about-bioparagraph">
          <!-- JS will inject BioParagraph here -->
        </p>

        <!-- Personal Info in Two Columns -->
        <div class="row">
          <div class="col-sm-6">
            <ul class="list-unstyled">
              <li>
                <strong>Birthday:</strong>
                <span id="about-birthday"></span>
              </li>
              <li>
                <strong>Website:</strong>
                <a
                  href="#"
                  id="about-website-link"
                  target="_blank"
                  rel="noopener"
                >
                  <span id="about-website-text"></span>
                </a>
              </li>
              <li>
                <strong>Phone:</strong> <span id="about-phone"></span>
              </li>
              <li>
                <strong>City:</strong> <span id="about-city"></span>
              </li>
            </ul>
          </div>
          <div class="col-sm-6">
            <ul class="list-unstyled">
              <li><strong>Age:</strong> <span id="about-age"></span></li>
              <li>
                <strong>Degree:</strong> <span id="about-degree"></span>
              </li>
              <li>
                <strong>Email:</strong>
                <a href="#" id="about-email-link">
                  <span id="about-email-text"></span>
                </a>
              </li>
            </ul>
          </div>
        </div>

        <!-- Approach -->
        <h5 id="about-approach-title" class="mt-4" style="font-weight: bold;"></h5>
        <p id="about-approach-text"></p>
      </div>
    </div>

    <!-- Stats Row (unchanged) -->
    <div class="row text-center mt-5" id="stats-row">
      <!-- JS will inject each .col-md-3 here -->
    </div>
  </div>




  
</section>

<script>
 document.addEventListener("DOMContentLoaded", function () {
  // 1) Fetch “About” data
  const aboutUrl = `${window.GAS_BASE_URL}?type=about`;
  fetch(aboutUrl)
    .then((res) => res.json())
    .then((about) => {
      const contentDiv = document.getElementById("about-content");
      const introP = document.getElementById("about-intro");

      if (about.error) {
        // If there’s an error, show a message in the content area
        contentDiv.innerHTML =
          '<p class="text-danger">Failed to load About section.</p>';
        console.error("Error loading About:", about.error);
        // Make sure at least something is visible
        contentDiv.style.display = "block";
        return;
      }

      // ── 1a) Format birthday ──
      let formattedBirthday = about.Birthday;
      try {
        const dt = new Date(about.Birthday);
        const opts = { day: "numeric", month: "long", year: "numeric" };
        formattedBirthday = dt.toLocaleDateString("en-US", opts);
      } catch (e) {
        console.warn("Could not parse birthday:", about.Birthday);
      }

      // ── 2) Inject all fetched fields ──
      introP.textContent = about.Intro;

      const imgEl = document.getElementById("about-image");
      imgEl.src = about.ImageURL;
      imgEl.alt = about.Subtitle || "Profile Photo";

      document.getElementById("about-subtitle").textContent =
        about.Subtitle;
      document.getElementById("about-bioparagraph").textContent =
        about.BioParagraph;
      document.getElementById("about-birthday").textContent =
        formattedBirthday;

      // Website: ensure “https://” if missing
      const siteText = about.Website;
      const siteHref = siteText.startsWith("http")
        ? siteText
        : "https://" + siteText;
      document.getElementById("about-website-text").textContent =
        siteText;
      document
        .getElementById("about-website-link")
        .setAttribute("href", siteHref);

        try {
  const aboutPhoneEl = document.getElementById("about-phone");
  if (aboutPhoneEl && about.Phone) {
    const rawPhone = String(about.Phone).replace(/\D/g, '');
    const phoneWithZero = rawPhone ? (rawPhone.startsWith('+') ? rawPhone : '+' + rawPhone) : 'N/A';
    aboutPhoneEl.textContent = phoneWithZero;
  }
} catch (err) {
  console.warn('Failed to inject About phone:', err);
}

      document.getElementById("about-city").textContent = about.City;
      document.getElementById("about-age").textContent = about.Age;
      document.getElementById("about-degree").textContent = about.Degree;

      document.getElementById("about-email-text").textContent =
        about.Email;
      document
        .getElementById("about-email-link")
        .setAttribute("href", "mailto:" + about.Email);

// ── Also update Contact section fields from About data ──
const contactEmailEl = document.querySelector('#contact-email');
const contactPhoneEl = document.querySelector('#contact-phone');
const contactAddressEl = document.querySelector('#contact-address');

// Update Email
if (contactEmailEl) {
  contactEmailEl.textContent = about.Email || 'N/A';
  contactEmailEl.setAttribute('href', `mailto:${about.Email || ''}`);
}

// Update Address (optional fallback)
if (contactAddressEl) {
  contactAddressEl.textContent = about.City || 'N/A';
}


try {
  const contactPhoneEl = document.querySelector('#contact-phone');
  if (contactPhoneEl && about.Phone) {
    const rawPhone = String(about.Phone).replace(/\D/g, '');
    const phoneWithZero = rawPhone ? (rawPhone.startsWith('0') ? rawPhone : '+' + rawPhone) : 'N/A';
    contactPhoneEl.textContent = phoneWithZero;
  }
} catch (err) {
  console.warn('Phone injection failed:', err);
}




      document.getElementById("about-approach-title").textContent =
        about.ApproachTitle;
      document.getElementById("about-approach-text").textContent =
        about.ApproachText;

      // ── 3) Reveal the hidden elements now that data is injected ──
      introP.style.display = "block";
      contentDiv.style.display = "flex"; // or "block", depending on your layout
    })
    .catch((err) => {
      const contentDiv = document.getElementById("about-content");
      contentDiv.innerHTML =
        '<p class="text-danger">Failed to load About section.</p>';
      console.error("Fetch error (About):", err);
      contentDiv.style.display = "block";
    });

  // 4) Stats logic (unchanged)
  const statsUrl = `${window.GAS_BASE_URL}?type=stats`;
  fetch(statsUrl)
    .then((response) => response.json())
    .then((statsArray) => {
      if (statsArray.error) {
        console.error("Error loading stats:", statsArray.error);
        return;
      }
      const container = document.getElementById("stats-row");
      statsArray.forEach((item) => {
        const col = document.createElement("div");
        col.className = "col-md-3 mb-4";

        const circle = document.createElement("div");
        circle.className =
          "rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3";
        circle.style.width = "60px";
        circle.style.height = "60px";
        circle.style.backgroundColor = "#6c63ff";

        const iconTag = document.createElement("i");
        iconTag.className = item.Icon + " fs-4 text-white";

        circle.appendChild(iconTag);
        col.appendChild(circle);

        const counter = document.createElement("h3");
        counter.className = "counter fw-bold";
        counter.setAttribute("data-target", item.Value);
        counter.textContent = "0";
        col.appendChild(counter);

        const titleP = document.createElement("p");
        titleP.className = "text-muted mb-0";
        titleP.textContent = item.Title;
        col.appendChild(titleP);

        container.appendChild(col);
      });

      const allCounters = document.querySelectorAll(".counter");
      function animateCounter(counterEl) {
        const target = +counterEl.getAttribute("data-target");
        let current = 0;
        const step = Math.ceil(target / 200);
        function update() {
          current += step;
          if (current < target) {
            counterEl.innerText = current;
            requestAnimationFrame(update);
          } else {
            counterEl.innerText = target;
          }
        }
        update();
      }

      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              animateCounter(entry.target);
              obs.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.5 }
      );

      allCounters.forEach((el) => observer.observe(el));
    })
    .catch((err) => {
      console.error("Fetch failed:", err);
    });
});

</script>


<style>
  .education-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    padding: 25px;
    text-align: center;
    transition: all 0.3s ease;
    border:1px solid #6c63ff;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
  }

  .education-icon {
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #6c63ff, #8c8bff);
  color: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 20px;
  font-size: 1.8rem;
  box-shadow: 0 4px 10px rgba(108, 99, 255, 0.3);
  transition: background 0.3s, transform 0.3s;
}

.education-card:hover .education-icon {
  transform: scale(1.1);
  background: linear-gradient(135deg, #5a52e8, #7a77ff);
}

  /* Make all columns flex to equalize card height */
  #education-container > div {
    display: flex;
  }

  .education-duration {
    color: #5a52e8 !important;
    font-weight: 500;
    font-size: 0.9rem;
  }
</style>

<!-- Education Section -->
<section id="education" class="py-5">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="fw-bold">Education</h2>
      <div class="mx-auto mb-3" style="width:60px; height:3px; background:#6c63ff;"></div>
      <p id="education-description" class="text-muted"></p>
    </div>

    <div id="education-container" class="row g-4 justify-content-center">
      <!-- Cards get injected here -->
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const url = `${window.GAS_BASE_URL}?type=education`;
    const container = document.getElementById("education-container");
    const desc = document.getElementById("education-description");

    fetch(url)
      .then(res => res.json())
      .then(data => {
        if (data.description) {
          desc.textContent = data.description;
        }
        if (Array.isArray(data.education)) {
          data.education.forEach(item => {
            const col = document.createElement('div');
            col.className = "col-12 col-sm-6 col-md-4";
            col.innerHTML = `
              <div class="education-card">
                <div class="education-icon">
  <i class="bi bi-mortarboard"></i>
</div>

                <h5 class="mb-1">${item.Degree}</h5>
                <p class="mb-0 text-muted">${item.Institution}</p>
                <small class="education-duration">
  ${item.Duration}
</small>

                <p class="mt-2 text-muted">${item.Description}</p>
              </div>
            `;
            container.appendChild(col);
          });
        }
      })
      .catch(err => {
        container.innerHTML = `<p class="text-danger">Failed to load education data.</p>`;
        console.error(err);
      });
  });
</script>






















<section id="skills" class="py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="fw-bold">Skills</h2>
      <div class="mx-auto mb-3" style="width:60px; height:3px; background:#6c63ff;"></div>
      <p id="skills-description" class="mx-auto" style="max-width: 800px; margin-bottom: 50px;"></p>
    </div>

  

    <div id="skills-container" class="row g-4" style="display: none;"></div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const url = `${window.GAS_BASE_URL}?type=skills`;

    const descriptionEl = document.getElementById("skills-description");
    const skillsContainer = document.getElementById("skills-container");

    fetch(url)
      .then((res) => res.json())
      .then((data) => {
        // 1) Inject description (if present)
        if (data.description) {
          descriptionEl.textContent = data.description;
        }

        // 2) Build each skill card
        if (Array.isArray(data.skills)) {
          data.skills.forEach((skill) => {
            const skillHTML = `
              <div class="col-md-6">
                <div class="mb-4">
                  <div class="d-flex justify-content-between">
                    <span>${skill.Name}</span>
                    <span>${skill.Percentage}%</span>
                  </div>
                  <div class="progress">
                    <div
                      class="progress-bar bg-primary"
                      role="progressbar"
                      style="width: 0%;"
                      data-target="${skill.Percentage}"
                      aria-valuenow="0"
                      aria-valuemin="0"
                      aria-valuemax="100"
                    ></div>
                  </div>
                </div>
              </div>
            `;
            skillsContainer.insertAdjacentHTML("beforeend", skillHTML);
          });

          // 3) Now that all cards are in the DOM, un-hide the container
          skillsContainer.style.display = "flex";

          // 4) Trigger bar‐fill animation on scroll
          animateOnScroll();
        }
      })
      .catch((err) => {
        // If loading fails, show an error message in place of the grid
        skillsContainer.innerHTML = `<p class="text-danger">Failed to load skills.</p>`;
        skillsContainer.style.display = "block";
        console.error("Error:", err);
      });

    // ─── Animate each .progress-bar once #skills enters viewport ───
    function animateOnScroll() {
      const bars = document.querySelectorAll(".progress-bar[data-target]");
      const section = document.getElementById("skills");

      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              bars.forEach((bar) => {
                const target = parseInt(bar.getAttribute("data-target"), 10);
                animateBar(bar, target, 1000);
              });
              obs.unobserve(section);
            }
          });
        },
        { threshold: 0.25 }
      );

      observer.observe(section);
    }

    function animateBar(bar, target, duration) {
      let start = null;
      function step(timestamp) {
        if (!start) start = timestamp;
        const progress = Math.min((timestamp - start) / duration, 1);
        bar.style.width = `${progress * target}%`;
        bar.setAttribute("aria-valuenow", Math.floor(progress * target));
        if (progress < 1) {
          requestAnimationFrame(step);
        }
      }
      requestAnimationFrame(step);
    }
  });
</script>






<section id="languages" class="py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="fw-bold">Languages</h2>
      <div class="mx-auto mb-3" style="width:60px; height:3px; background:#6c63ff;"></div>
      <p id="languages-description" class="mx-auto" style="max-width: 800px; margin-bottom: 50px;"></p>
    </div>

    <div id="languages-container" class="row g-4" style="display: none;"></div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const url = `${window.GAS_BASE_URL}?type=languages`;

    const descriptionEl = document.getElementById("languages-description");
    const languagesContainer = document.getElementById("languages-container");

    fetch(url)
      .then((res) => res.json())
      .then((data) => {
        if (data.description) {
          descriptionEl.textContent = data.description;
        }

        if (Array.isArray(data.languages)) {
          data.languages.forEach((language) => {
            const languageHTML = `
              <div class="col-md-6">
                <div class="mb-4">
                  <div class="d-flex justify-content-between">
                    <span>${language.Name}</span>
                    <span>${language.Percentage}%</span>
                  </div>
                  <div class="progress">
                    <div
                      class="progress-bar bg-primary"
                      role="progressbar"
                      style="width: 0%;"
                      data-target="${language.Percentage}"
                      aria-valuenow="0"
                      aria-valuemin="0"
                      aria-valuemax="100"
                    ></div>
                  </div>
                </div>
              </div>
            `;
            languagesContainer.insertAdjacentHTML("beforeend", languageHTML);
          });

          languagesContainer.style.display = "";
          animateOnScroll();
        }
      })
      .catch((err) => {
        languagesContainer.innerHTML = `<p class="text-danger">Failed to load languages.</p>`;
        languagesContainer.style.display = "";
        console.error("Error:", err);
      });

      function animateOnScroll() {
  const section = document.getElementById("languages");
  // Select ONLY bars inside this section
  const bars = section.querySelectorAll(".progress-bar[data-target]");

  const observer = new IntersectionObserver((entries, obs) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        bars.forEach((bar) => {
          const target = +bar.getAttribute("data-target");
          animateBar(bar, target, 1000);
        });
        obs.unobserve(section);
      }
    });
  }, { threshold: 0.25 });

  observer.observe(section);
}


    function animateBar(bar, target, duration) {
      let start = null;
      function step(timestamp) {
        if (!start) start = timestamp;
        const progress = Math.min((timestamp - start) / duration, 1);
        bar.style.width = `${progress * target}%`;
        bar.setAttribute("aria-valuenow", Math.floor(progress * target));
        if (progress < 1) {
          requestAnimationFrame(step);
        }
      }
      requestAnimationFrame(step);
    }
  });
</script>






<section id="portfolio" class="py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="fw-bold">Portfolio</h2>
      <div class="mx-auto mt-2" style="width:60px; height:3px; background-color:#6c63ff;"></div>
    </div>
    
    <div class="row g-4" id="portfolio-items">
      <!-- Portfolio items will be injected here -->
    </div>
    
    <!-- Buttons / Links BELOW the grid -->
    <div class="text-center mt-4">
      <a
      href="grid.html"
      style="
        display: inline-block;
        padding: 0.75rem 1.5rem;
        border: 2px solid #6c63ff;
        border-radius: 0.5rem;
        color: #6c63ff;
        font-weight: 600;
        text-decoration: none;
        transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
      "
      onmouseover="
        this.style.backgroundColor = '#6c63ff';
        this.style.color = '#ffffff';
        this.style.transform = 'translateY(-2px)';
      "
      onmouseout="
        this.style.backgroundColor = 'transparent';
        this.style.color = '#6c63ff';
        this.style.transform = 'translateY(0)';
      "
    >
      Visit All Projects
    </a>
    
    </div>
  </div>
</section>



<script>
  (function() {
    // 1) Your same Apps Script “exec” endpoint:
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyDodKXTRdgaKbEmFGr23U9GyRyzBBY3pMLw9wZQDq9ZBSrCM3q-aaX7nVcEsraXW4EpA/exec';

    // 2) Ask the backend if maintenance is on
    fetch(`${SCRIPT_URL}?type=maintenance`)
      .then(res => {
        if (!res.ok) throw new Error('Network response was not ok');
        return res.json();
      })
      .then(data => {
        // 3) If maintenance is “yes”, redirect away
        if (data.maintenance === 'yes') {
          // replace current history entry so “Back” doesn’t go right back here
          window.location.replace('maintenance.html');
        }
      })
      .catch(err => {
        console.error('Maintenance check failed:', err);
        // optional: you could still redirect on error
        // window.location.replace('maintenance.html');
      });
  })();
</script>


<!-- Portfolio Modals Container -->
<div id="portfolio-modals">
  <!-- Modals will be injected here -->
</div>
<script>
 document.addEventListener('DOMContentLoaded', function () {
  const portfolioContainer = document.querySelector('#portfolio .row');
  const webAppUrl = window.GAS_BASE_URL; // default is ?type=Projects

  fetch(webAppUrl)
    .then(response => response.json())
    .then(projects => {

      projects.forEach((project, index) => {
        const colDiv = document.createElement('div');
        colDiv.className = 'col-md-4';

        const portfolioItem = document.createElement('div');
        portfolioItem.className = 'portfolio-item';
        portfolioItem.setAttribute('data-bs-toggle', 'modal');
        portfolioItem.setAttribute('data-bs-target', `#portfolioModal${index + 1}`);

        const img = document.createElement('img');
        img.src = project['Image URL'];
        img.alt = `${project['Project Name']} Preview`;
        img.loading = 'lazy';

        const overlay = document.createElement('div');
        overlay.className = 'overlay';
        overlay.textContent = project['Project Name'];

        portfolioItem.appendChild(img);
        portfolioItem.appendChild(overlay);
        colDiv.appendChild(portfolioItem);
        portfolioContainer.appendChild(colDiv);

        // Create modal
        const modalDiv = document.createElement('div');
        modalDiv.className = 'modal fade';
        modalDiv.id = `portfolioModal${index + 1}`;
        modalDiv.tabIndex = -1;
        modalDiv.setAttribute('aria-labelledby', `portfolioModal${index + 1}Label`);
        modalDiv.setAttribute('aria-hidden', 'true');

        const modalDialog = document.createElement('div');
        modalDialog.className = 'modal-dialog modal-lg modal-dialog-centered';

        const modalContent = document.createElement('div');
        modalContent.className = 'modal-content';

        const modalHeader = document.createElement('div');
        modalHeader.className = 'modal-header';

        const modalTitle = document.createElement('h5');
        modalTitle.className = 'modal-title';
        modalTitle.id = `portfolioModal${index + 1}Label`;
        modalTitle.textContent = project['Project Name'];

        const modalClose = document.createElement('button');
        modalClose.type = 'button';
        modalClose.className = 'btn-close';
        modalClose.setAttribute('data-bs-dismiss', 'modal');
        modalClose.setAttribute('aria-label', 'Close');

        modalHeader.appendChild(modalTitle);
        modalHeader.appendChild(modalClose);

        const modalBody = document.createElement('div');
        modalBody.className = 'modal-body';

        const modalImg = document.createElement('img');
        modalImg.src = project['Image URL'];
        modalImg.alt = `${project['Project Name']} Full View`;
        modalImg.className = 'img-fluid mb-3';
        modalImg.loading = 'lazy';

        const modalDescription = document.createElement('p');
        modalDescription.textContent = project['Description'];

        modalBody.appendChild(modalImg);
        modalBody.appendChild(modalDescription);

        modalContent.appendChild(modalHeader);
        modalContent.appendChild(modalBody);
        modalDialog.appendChild(modalContent);
        modalDiv.appendChild(modalDialog);

        document.body.appendChild(modalDiv);
      });
    })
    .catch(error => {
      console.error('Error fetching project data:', error);
      loadingIndicator.innerHTML = '<p class="text-danger">Failed to load projects.</p>'; // Show error message
    });
});

</script>










<section id="services">
  <div class="container py-5">
    <!-- Section Heading -->
    <div class="text-center mb-5">
      <h2 class="fw-bold">Services</h2>
      <div
        class="mx-auto mt-2"
        style="width:60px; height:3px; background-color:#6c63ff;"
      ></div>
    </div>

    <div
      class="row g-4"
      id="services-container"
      style="display: none;"
    >
      <!-- Service cards will be inserted dynamically -->
    </div>
  </div>
</section>

<!-- Modals Container must be at the end of <body> -->
<div id="modals-container"></div>

<!-- Bootstrap JS bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // 1) Fix modal z-index issue
    const style = document.createElement("style");
    style.textContent = `
      .modal-backdrop { z-index: 1050 !important; }
      .modal          { z-index: 2000 !important; }
    `;
    document.head.appendChild(style);

    // 2) Ensure modals-container is direct child of <body>
    const modalsContainer = document.getElementById("modals-container");
    if (modalsContainer && modalsContainer.parentNode !== document.body) {
      document.body.appendChild(modalsContainer);
    }

    // 3) Fetch services
    const apiUrl = `${window.GAS_BASE_URL}?type=services`;
    const servicesContainer = document.getElementById("services-container");

    fetch(apiUrl)
      .then((response) => response.json())
      .then((services) => {
        servicesContainer.style.display = "flex";
        servicesContainer.innerHTML = "";
        modalsContainer.innerHTML = "";

        services.forEach((svc) => {
          const serviceId = `serviceModal${svc.ID}`;
          const serviceColor = svc.Color || "#6c63ff";

          // Service Card
          servicesContainer.innerHTML += `
            <div class="col-md-4">
              <div
                class="service-card p-3"
                style="--service-color: ${serviceColor}; cursor:pointer;"
                data-bs-toggle="modal"
                data-bs-target="#${serviceId}"
              >
                <div class="icon-shape">
                  <i class="${svc.Icon || 'bi-bounding-box-circles'}"></i>
                </div>
                <h5 class="mt-3">${svc.Title}</h5>
                <p class="mb-0">Click to learn more...</p>
              </div>
            </div>
          `;

          // Modal
          modalsContainer.innerHTML += `
            <div class="modal fade" id="${serviceId}" tabindex="-1" aria-labelledby="${serviceId}Label" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header text-white"
                       style="background: linear-gradient(135deg, ${serviceColor}, ${serviceColor}80);">
                    <h5 class="modal-title" id="${serviceId}Label">${svc.Title}</h5>
                    <button type="button" class="btn-close btn-close-white"
                            data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body p-4">
                    <p class="mb-3">${svc.Description}</p>
                    <ul class="list-unstyled">
                      ${svc.Features.split(",").map(f => `
                        <li><i class="bi-check-circle-fill text-success me-2"></i> ${f.trim()}</li>
                      `).join("")}
                    </ul>
                  </div>
                  <div class="modal-footer d-flex justify-content-between">
                    <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger"
                      onclick="${svc.Hash
                        ? `window.open('http://127.0.0.1:5500/grid.html#${svc.Hash}', '_blank')`
                        : `alert('No anchor available')`}"
                      ${!svc.Hash ? "disabled" : ""}>
                      Learn More
                    </button>
                  </div>
                </div>
              </div>
            </div>
          `;
        });
      })
      .catch((error) => {
        console.error("Error fetching services:", error);
        servicesContainer.innerHTML =
          "<p class='text-danger'>Failed to load services. Please try again later.</p>";
        servicesContainer.style.display = "block";
      });
  });
</script>











  




<!-- ============================
       Testimonials Section
  ============================ -->
  <section id="testimonials">
    <div class="container">
      <!-- Section Title -->
      <div class="text-center mb-4">
        <h2 class="fw-bold">Testimonials</h2>
        <div
          class="mx-auto mt-2"
          style="width: 60px; height: 3px; background-color: #6c63ff;"
        ></div>
      </div>

      <!-- Subheading (will be injected) -->
      <p id="testimonials-subheading" class="text-center text-muted mb-5">
        Loading…
      </p>

      <!-- Carousel placeholder with touch enabled -->
      <div
        id="testimonialCarousel"
        class="carousel slide"
        data-bs-ride="carousel"
        data-bs-interval="5000"
        data-bs-wrap="true"
        data-bs-pause="false"
        data-bs-touch="true"
      >
        <div class="carousel-inner" id="carousel-inner">
          <!-- JS will insert slides here -->
        </div>

        <!-- Prev button -->
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#testimonialCarousel"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>

        <!-- Next button -->
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#testimonialCarousel"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <!-- /.carousel -->
    </div>
    <!-- /.container -->
  </section>
  <!-- /#testimonials -->

 <!-- Fetch & Render Script -->
 <script>
  (function () {
    const WEB_APP_URL = window.GAS_BASE_URL + '?type=testimonials';
    const subheadingEl = document.getElementById('testimonials-subheading');
    const carouselInner = document.getElementById('carousel-inner');

    fetch(WEB_APP_URL)
      .then((res) => {
        if (!res.ok) throw new Error('Network response was not OK');
        return res.json();
      })
      .then((data) => {
        renderTestimonialsSection(data);
      })
      .catch((err) => {
        console.error(err);
        subheadingEl.textContent =
          'Unable to load testimonials at this time.';
      });

    function renderTestimonialsSection(data) {
      // Inject subheading
      subheadingEl.textContent = data.subheading || '';

      // If no testimonials, show fallback
      if (!Array.isArray(data.testimonials) || data.testimonials.length === 0) {
        carouselInner.innerHTML =
          '<div class="text-center"><em>No testimonials available.</em></div>';
        return;
      }

      // Build slides
      data.testimonials.forEach((t, index) => {
        const itemDiv = document.createElement('div');
        itemDiv.classList.add('carousel-item');
        if (index === 0) itemDiv.classList.add('active');

        itemDiv.innerHTML = `
          <div class="text-center px-3">
            <blockquote class="blockquote">
              <p class="mb-4" style="font-size: 1.1rem;">
                ${escapeHTML(t.quote)}
              </p>
            </blockquote>
            <div class="d-flex align-items-center justify-content-center">
              <img
                src="${escapeHTML(t.imageUrl)}"
                alt="${escapeHTML(t.clientName)} Logo"
                class="rounded-circle me-3"
                style="width: 80px; height: 80px; object-fit: cover;"
              />
              <div class="text-start">
                <h5 class="mb-0">${escapeHTML(t.clientName)}</h5>
                <small class="text-muted">${escapeHTML(t.clientRole)}</small>
                <div class="mb-2">
                  ${generateStars(t.rating)}
                </div>
                <a
                  href="${escapeHTML(t.websiteUrl)}"
                  class="text-decoration-none"
                  target="_blank"
                >
                  Visit their website
                </a>
              </div>
            </div>
          </div>
        `;
        carouselInner.appendChild(itemDiv);
      });

      // Re-init carousel so touch works
      const carouselEl = document.getElementById('testimonialCarousel');
      bootstrap.Carousel.getOrCreateInstance(carouselEl, {
        interval: 5000,
        wrap: true,
        touch: true
      });
    }

    function escapeHTML(str) {
      if (!str) return '';
      return str
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#039;');
    }

    function generateStars(rating) {
      const r = parseFloat(rating) || 0;
      const fullStars = Math.floor(r);
      const hasHalf = r - fullStars >= 0.5;
      let html = '';
      for (let i = 0; i < fullStars; i++) {
        html += '<i class="bi-star-fill text-warning star"></i>';
      }
      if (hasHalf) {
        html += '<i class="bi-star-half text-warning star"></i>';
      }
      const emptyStars = 5 - fullStars - (hasHalf ? 1 : 0);
      for (let i = 0; i < emptyStars; i++) {
        html += '<i class="bi-star text-warning star"></i>';
      }
      return html;
    }
  })();
</script>
<!-- End of Fetch & Render Script -->




   <!-- Contact Section -->
   <section id="contact" class="py-5">
    <div class="container">
      <div class="text-center mb-4">
        <h2 class="fw-bold">Contact</h2>
        <!-- Short colored line under the heading -->
        <div class="mx-auto mt-2" style="width:60px; height:3px; background-color:#6c63ff;"></div>
      </div>
      <br><br>
      <div class="row g-0 align-items-center">
        <!-- Contact Info Column -->
        <div class="col-md-5 mb-4 mb-md-0">
         <!-- Address -->
<h4 style="color: #6c63ff; font-weight: bold;">
  <i class="bi bi-geo-alt-fill"></i> Our Address
</h4>
<p id="contact-address">Loading...</p>

<!-- Phone -->
<h4 style="color: #6c63ff; font-weight: bold;">
  <i class="bi bi-telephone-fill"></i> Phone
</h4>
<p id="contact-phone">Loading...</p>

<!-- Email -->
<h4 style="color: #6c63ff; font-weight: bold;">
  <i class="bi bi-envelope-fill"></i> Email
</h4>
<a href="#" id="about-email-link">
  <span id="about-email-text"></span>
</a>
<p id="contact-email">Loading...</p>

<!-- Follow Us -->
<h4 style="color: #6c63ff; font-weight: bold;">Follow Us</h4>
<div class="d-flex gap-3" id="contact-socials">
  <!-- Populated dynamically -->
</div>
        </div>

        <!-- Form Column -->
        <div class="col-md-7">
          <!-- IMPORTANT: name attribute must match the one in your JS code -->
          <form name="submit-to-google-sheet">
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                name="name"
                placeholder="Your Name"
                required
              />
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="name@example.com"
                required
              />
            </div>
            <div class="mb-3">
              <label for="subject" class="form-label">Subject</label>
              <input
                type="text"
                class="form-control"
                id="subject"
                name="subject"
                placeholder="name@example.com"
                required
              />
            </div>
            <div class="mb-3">
              <label for="message" class="form-label">Message</label>
              <textarea
                class="form-control"
                id="message"
                name="message"
                rows="5"
                placeholder="Your Message"
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Send Message</button>
          </form>
        </div>
      </div>
    </div>
  </section>
    <!-- SweetAlert2 (for success/error popups) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <!-- Your JS code to handle form submission -->
    <script>
      // Reference the form by its name attribute
      const form = document.forms["submit-to-google-sheet"];
      const submitBtn = form.querySelector('button[type="submit"]');
    
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const formData = new FormData(form);
    
        // 1) Change button to “Submitting” + loader, disable it
        submitBtn.disabled = true;
        submitBtn.innerHTML = `
          <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          Submitting...
        `;
    
        fetch(window.GAS_BASE_URL, {
          method: "POST",
          body: formData
        })
          .then((response) => {
            // 2) On success, show “Submitted” for 2 seconds
            submitBtn.innerHTML = 'Submitted!';
            setTimeout(() => {
              submitBtn.disabled = false;
              submitBtn.innerHTML = 'Submit';
            }, 2000);
    
            Swal.fire({
              title: "Message Sent!",
              text: "We’ll contact you soon.",
              icon: "success",
              toast: true,
              position: "top-end",
              timer: 3000,
              showConfirmButton: false
            });
            form.reset();
          })
          .catch((error) => {
            // 3) On error, revert button and show error toast
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'Submit';
    
            Swal.fire({
              title: "Error!",
              text: "Something went wrong. Try again!",
              icon: "error",
              toast: true,
              position: "top-end",
              showConfirmButton: true
            });
          });
      });
    </script>

<script>
  async function loadContactData() {
    try {
      const res = await fetch(`${window.GAS_BASE_URL}?type=contact`);
      const { contactInfo, socials } = await res.json();

      
      
      

      // Inject Social Icons
      const socialContainer = document.querySelector('#contact-socials');
      socialContainer.innerHTML = ''; // Clear existing
      socials.forEach(s => {
        const a = document.createElement('a');
        a.href = s.url;
        a.className = 'text-decoration-none';
        a.innerHTML = `<i class="${s.icon} fs-2 social-icon"></i>`;
        socialContainer.appendChild(a);
      });

    } catch (error) {
      console.error('Failed to load contact data:', error);
    }
  }

  document.addEventListener('DOMContentLoaded', loadContactData);
</script>

    
      <!-- Bootstrap JS (Optional) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </main>

    <!-- Footer -->
    <footer class="text-center py-4">
      Developed by <a href="https://linktr.ee/ahmiiraj123" target="_blank" rel="noopener noreferrer">Ahmar Manzoor</a>. All rights reserved. &copy; 2025

    </footer>
  </div></div>




<!-- ─── FETCH-TRACKER SCRIPT (must come before any other inline fetches) ─── -->
<script>
  //
  // 1) Override window.fetch immediately, so any subsequent fetch(…) calls are tracked.
  //
  const originalFetch = window.fetch.bind(window);
  const fetchPromises = [];

  window.fetch = function(...args) {
    const p = originalFetch(...args).catch(err => err);
    fetchPromises.push(p);
    return p;
  };

  //
  // 2) A pool of 14 facts (rotate every 4s)
  //
  const preloaderFacts = [
  "Portfolio loading… get ready to see some creative magic ✨",
  "Did you know? The average designer spends 3 hours perfecting one mockup.",
  "Tip: Click on any project thumbnail to see its details.!",
  "Quick stat: 78% of clients say a strong portfolio led them to hire a designer.",
  "Behind the scenes: Each section here was hand-coded with responsive design in mind.",
  "Did you know? The color scheme of this portfolio took 5 iterations to finalize.",
  "Design trivia: The font pairing you’ll see is based on classic Bauhaus principles.",
  "Portfolio hack: A clean grid layout improves user flow by 32%.",
  "Pro tip: Scrolling is the new clicking—immerse yourself in a smooth experience.",
  "Creative snippet: This portfolio’s hero section was optimized for mobile in under 2 KB.",
  "Almost there! Your next scroll reveals testimonials from happy clients."
];


  // Grab DOM elements at once (these already exist)
  const factEl         = document.getElementById("preloader-fact");
  const barEl          = document.getElementById("preloader-bar");
  const preloaderEl    = document.getElementById("preloader");
  const contentWrapper = document.getElementById("content-wrapper");

  // 2a) Show a random fact immediately (after the CSS fade‐in has finished)
  factEl.addEventListener("animationend", () => {
    // Once textFadeIn completes, start rotating facts
    let factIdx = Math.floor(Math.random() * preloaderFacts.length);
    factEl.textContent = preloaderFacts[factIdx];

    // Cycle every 4 seconds
    const factInterval = setInterval(() => {
      factIdx = (factIdx + 1) % preloaderFacts.length;
      factEl.textContent = preloaderFacts[factIdx];
    }, 4000);

    //
    // 3) updateProgress: jump to 50% when any fetch is pending, 100% when all done,
    //    or fallback after 8 seconds if no fetch ever fired.
    //
    function updateProgress() {
      const totalCount = fetchPromises.length;

      // If no fetches have been registered yet, keep bar at 0%
      if (totalCount === 0) {
        barEl.style.width = "0%";
        return;
      }

      // Count how many promises are settled
      Promise.allSettled(fetchPromises).then(results => {
        const settledCount = results.filter(
          r => r.status === "fulfilled" || r.status === "rejected"
        ).length;

        // If any fetch is still pending (settledCount < totalCount) → show 50%
        if (settledCount < totalCount) {
          barEl.style.width = "50%";
        } else {
          // All fetches done → show 100%, then hide
          barEl.style.width = "100%";
          clearInterval(factInterval);

          // Short delay so user sees full bar
          setTimeout(() => {
            preloaderEl.style.opacity = "0";
            setTimeout(() => {
              preloaderEl.remove();
              contentWrapper.style.display = "block";
              contentWrapper.classList.add("fade-in");

            // ── ONE-TIME scroll to hash (then remove it so you can scroll freely thereafter)
          if (window.location.hash) { 
            const hash = window.location.hash; 
            const targetEl = document.querySelector(hash); 
            if (targetEl) { 
              setTimeout(() => { 
                targetEl.scrollIntoView({ behavior: 'smooth', block: 'start' }); 
                // remove the hash so it won't "stick" on that section 
                history.replaceState( 
                  null, 
                  document.title, 
                  window.location.pathname + window.location.search 
                ); 
              }, 100); 
            } 
          }
            }, 300);
          }, 300);

        }
      });
    }

    // Poll every 200ms
    const progressTimer = setInterval(updateProgress, 200);

    //
    // 4) SAFETY FALLBACK: If after 8s no fetch has registered (fetchPromises.length===0),
    //    just dismiss the preloader so you don’t stay stuck forever.
    //
    setTimeout(() => {
      if (fetchPromises.length === 0) {
        // Fade out immediately
        clearInterval(progressTimer);
        clearInterval(factInterval);
        barEl.style.width = "100%";
        setTimeout(() => {
          preloaderEl.style.opacity = "0";
          setTimeout(() => {
            preloaderEl.remove();
            contentWrapper.style.display = "block";
            contentWrapper.classList.add("fade-in");
          }, 300);
        }, 300);
      }
    }, 8000);
  });
</script>
<!-- ─── END FETCH-TRACKER SCRIPT ─── -->


  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Typed.js Library -->
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  

 
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Intersection Observer + Counter Animation -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const counters = document.querySelectorAll(".counter");
    
    function animateCounters() {
      counters.forEach(counter => {
        let targetValue = +counter.getAttribute("data-target");
        let currentValue = 0;
        let increment = targetValue / 50; // Controls speed
        let interval = setInterval(() => {
          currentValue += increment;
          if (currentValue >= targetValue) {
            clearInterval(interval);
            counter.innerText = targetValue;
          } else {
            counter.innerText = Math.ceil(currentValue);
          }
        }, 20);
      });
    }

    // Observe when the section enters the viewport
    let statsObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounters();
          statsObserver.disconnect(); // Run once
        }
      });
    }, { threshold: 0.2 });

    statsObserver.observe(document.querySelector("#about"));
  });
</script>


<!-- AOS JS -->
<script 
  src="https://unpkg.com/aos@2.3.1/dist/aos.js">
</script>
<script>
  AOS.init({
    duration: 800, // Animation duration in ms
    once: true     // Whether animation should happen only once
  });
  
</script>



</body>
</html>
